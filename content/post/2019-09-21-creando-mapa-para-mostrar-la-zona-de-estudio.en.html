---
title: 'Creando mapa para mostrar el área de estudio'
subtitle: ""
author: Patricio Said
date: '2019-09-21'
slug: creando-mapa-para-mostrar-la-zona-de-estudio
categories: ["blog"]
tags: ["ggplot2","mapa"]
#image: "img/martini.jpg"
description: ""
---



<p>Es común mostrar dentro de la metodología de un trabajo el área geográfica de donde se realizó el estudio. Si no estas familiarizado con datos espaciales, aquí te muestro una alternativa de cómo mostrar la zona de estudio (en lugar de ir a GoogleMaps y sacar una screenshot).</p>
<p>Primero cargamos las librerias, <code>readr</code> para importar los datos y <code>ggplot2</code> para graficar.</p>
<pre class="r"><code>library(readr)
library(ggplot2)</code></pre>
<p>Según la zona que deseas mostrar y el nivel de detalle (por ejemplo los límite de los estados/regiones o nombres de ciudades) requerirás de determinadas fuentes de datos. Los paquetes <code>ggmap</code> y <code>rnaturalearth</code> incluyen conjuntos de datos para plotear el mundo con los límites internacionales, pero a nivel de estado solo está disponible para Estados Unidos. Por lo anterior, en este post trabajo con los datos de <a href="www.gadm.org">GADM</a>.</p>
<p>Para este ejemplo, trabajo con datos de Chile en formato sf provenientes de <a href="https://www.gadm.org/download_country_v3.html" class="uri">https://www.gadm.org/download_country_v3.html</a>. Puedes descargar los datos para otro país cambiando la URL del siguiente código.</p>
<p>Descargamos los datos y graficamos:</p>
<pre class="r"><code>cl &lt;- read_rds(url(&quot;https://biogeo.ucdavis.edu/data/gadm3.6/Rsf/gadm36_CHL_1_sf.rds&quot;))
#class(cl) sf

ggplot(data = cl) +
  geom_sf()</code></pre>
<p><img src="/post/2019-09-21-creando-mapa-para-mostrar-la-zona-de-estudio.en_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Ya tenemos el mapa completo de Chile y con sus regiones delimitadas. Para este ejemplo voy a determinar la zona de estudio desde la Región del Maule hasta la Región de los Ríos, pero tambíen quiero mostrar los alrededores para que el lector pueda ubicarse. Para esto voy a cambiar los límites de la gráfica, de manera de hacer un “zoom” en el mapa. Los límites de la gráfica se pueden modificar filtrando el conjunto de datos según las regiones que queremos mostrar o modificar los parámetros <code>xlim</code> y <code>ylim</code> con un par de coordenadas. Esta última alternativa es más artesanal pero también una solución simple si no tienes experiencia con objetos <code>sf</code>.</p>
<p>El par de coordenadas las puede obtener desde OpenStreetMap o GoogleMaps.</p>
<p><img src="/post/2019-09-21-creando-mapa-para-mostrar-la-zona-de-estudio.en_files/punto1.PNG" /></p>
<pre class="reval"><code>coord_sf(xlim = c(-67, -80), ylim = c(-42, -28))+</code></pre>
